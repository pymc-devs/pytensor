# THIS FILE WAS GENERATED BY `scripts/generate-pixi-toml.py`
# You can edit this file locally, but if you want to push changes
# upstream to pymc-devs/pytensor, then you should instead modify
# the script.

[project]
name = "pytensor"
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]
channels = ["conda-forge"]

[dependencies]
cons = "*"
etuples = "*"
filelock = ">=3.15"
logical-unification = "*"
minikanren = "*"
numpy = ">=1.17.0"
scipy = "<2,>=1"
setuptools = ">=59.0.0"

[pypi-dependencies]
pytensor = {path = ".", editable = true}

[feature.blas.target.linux-64.dependencies]
libblas = {version = "*", build = "*mkl"}
mkl = "*"
mkl-service = "*"

[feature.blas.target.osx-64.dependencies]
libblas = {version = "*", build = "*mkl"}
mkl = "*"
mkl-service = "*"

[feature.blas.target.osx-arm64.dependencies]
libblas = {version = "*", build = "*accelerate"}

[feature.blas.target.win-64.dependencies]
libblas = {version = "*", build = "*mkl"}
mkl = "*"
mkl-service = "*"

[feature.conda-dev.dependencies]
compilers = "*"
coveralls = "*"
cython = "*"
diff-cover = "*"
graphviz = "*"
ipython = "*"
matplotlib = "*"
mypy = "*"
myst-nb = "*"
packaging = "*"
pandas = "*"
pydeprecate = "*"
pymc-sphinx-theme = "*"
pytest-xdist = "*"
python = ">=3.10"
ruff = "*"
sphinx-design = "*"
sphinx_rtd_theme = "*"
types-setuptools = "*"
watermark = "*"

[feature.jax]
platforms = ["linux-64", "osx-64", "osx-arm64"]

[feature.jax.dependencies]
jax = "*"
jaxlib = "*"


[feature.numba.dependencies]
llvmlite = "*"
numba = ">=0.57"

[feature.rtd.dependencies]
pydot = "*"
pygments = "*"
sphinx = "<6,>=5.1.0"

[feature.tests.dependencies]
coverage = ">=5.1"
pre-commit = "*"
pytest = "*"
pytest-benchmark = "*"
pytest-cov = ">=2.6.1"
pytest-mock = "*"
pytest-sphinx = "*"
tomlkit = "*"


[environments]
default = {features = ["blas", "conda-dev", "jax", "numba", "rtd", "tests"], solve-group = "default"}

# Disable non-default environments pending <https://github.com/prefix-dev/pixi/issues/2725>
# If you want to re-enable some of these, it's recommended to remove the solve-group key.
# minimal = {features = [], solve-group = "default"}
# blas = {features = ["blas"], solve-group = "default"}
# conda-dev = {features = ["conda-dev"], solve-group = "default"}
# jax = {features = ["jax"], solve-group = "default"}
# numba = {features = ["numba"], solve-group = "default"}
# rtd = {features = ["rtd"], solve-group = "default"}
# tests = {features = ["tests"], solve-group = "default"}
